:root{
  --bg:#0b1220; --panel:#0e1628cc; --text:#d7e0ff; --muted:#9aa7c7;
  --accent:#9d7dff; --accent2:#a8ff60; --danger:#ff5c7a;
  --shadow:0 10px 30px rgba(0,0,0,.35);

  /* Палитры неба по умолчанию (ночь) */
  --sky-a:#0b0f22;   /* верх */
  --sky-b:#0a1436;   /* середина */
  --sky-c:#081024;   /* низ */
  --vignette: radial-gradient(1200px 800px at 50% 30%, rgba(0,0,0,.25), transparent 60%);
}

[data-theme="sunrise"]{
  --bg:#0e0a1a; --panel:#1b1230cc; --text:#ffeefc; --muted:#e1c9ff;
  --accent:#ff8dd6; --accent2:#ffd26a;
  --sky-a:#210d2b; --sky-b:#3a1656; --sky-c:#2b1a43;
  --vignette: radial-gradient(1200px 800px at 50% 25%, rgba(255,160,120,.12), transparent 60%);
}

[data-theme="mono"]{
  --bg:#0a0a0a; --panel:#151515cc; --text:#f0f0f0; --muted:#bdbdbd;
  --accent:#ffffff; --accent2:#c0ffc0;
  --sky-a:#0a0a0a; --sky-b:#111; --sky-c:#0c0c0c;
  --vignette: radial-gradient(1200px 800px at 50% 35%, rgba(255,255,255,.06), transparent 60%);
}

/* ===== БАЗА ===== */
html,body{height:100%}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif;
  background: radial-gradient(1200px 800px at 70% -10%, #12203a 0%, transparent 60%), var(--bg);
  color:var(--text);
  overflow-x:hidden;
}

.wrap{display:grid;grid-template-rows:auto 1fr auto;min-height:100vh}

header{
  position:sticky;top:0;z-index:5;
  backdrop-filter:blur(10px);
  background:linear-gradient(180deg,var(--panel),transparent);
  box-shadow:var(--shadow);
}

.container{width:min(1120px,92vw);margin:0 auto;padding:16px 0}
.row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}

.brand{display:flex;align-items:center;gap:12px;font-weight:700;letter-spacing:.4px}
.logo{
  width:28px;height:28px;border-radius:8px;display:grid;place-items:center;
  background:#0b1220;box-shadow:inset 0 0 0 2px var(--accent2);
  color:var(--accent2);font-size:14px;font-weight:800
}

.panel{
  background:var(--panel);
  border:1px solid rgba(255,255,255,.08);
  border-radius:16px;padding:14px 16px;box-shadow:var(--shadow)
}

/* мерцание звёзд */
@keyframes twinkle {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}
.star {
  animation: twinkle 3s ease-in-out infinite;
}

/* дрожь неона */
@keyframes flicker {
  0%, 18%, 22%, 25%, 53%, 57%, 100% { opacity: 1; }
  20%, 24%, 55% { opacity: 0.4; }
}
.neon-sign {
  animation: flicker 2.5s infinite;
}

/* ===== КНОПКИ ===== */
.btn{
  appearance:none;cursor:pointer;user-select:none;
  border:1px solid rgba(255,255,255,.1);border-radius:12px;
  padding:10px 14px;background:#0f172acc;color:var(--text);
  font-weight:600;display:inline-flex;align-items:center;gap:8px;
  transition:transform .12s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
  text-decoration:none;
}
.btn:hover{transform:translateY(-1px);border-color:rgba(255,255,255,.25)}
.btn:active{transform:translateY(0) scale(.99)}
.btn:focus-visible{outline:2px solid var(--accent);outline-offset:2px;box-shadow:0 0 0 4px rgba(157,125,255,.25)}
.btn.primary{background:linear-gradient(135deg,var(--accent) 0%,#7b5cff 100%);border-color:transparent;color:#0b0720}
.btn.success{background:linear-gradient(135deg,var(--accent2) 0%,#86ff86 100%);border-color:transparent;color:#001d00}
.btn.ghost{background:transparent}

/* ===== ГЕРОЙ + КАНВА ===== */
main{position:relative}
.hero{
  position:relative;min-height:540px;display:grid;place-items:center;overflow:hidden;
}
.bg-grad{
  position:absolute;inset:-40% -20% -20% -20%;
  background:
    radial-gradient(600px 400px at 20% 0%, rgba(157,125,255,.35), transparent 60%),
    radial-gradient(800px 500px at 80% 10%, rgba(168,255,96,.18), transparent 65%),
    radial-gradient(900px 550px at 50% 100%, rgba(255,92,122,.12), transparent 70%);
  filter:blur(30px);animation:float 20s ease-in-out infinite alternate;pointer-events:none
}
@keyframes float{from{transform:translateY(-10px)}to{transform:translateY(10px)}}

.canvas-wrap{
  width:min(1120px,92vw);
  aspect-ratio:16/9;
  position:relative;
}

svg{
  width:100%;height:100%;display:block;border-radius:18px;
  background:linear-gradient(180deg,var(--sky-a) 0%,var(--sky-b) 55%,var(--sky-c) 100%), var(--vignette);
  box-shadow:var(--shadow)
}

/* ===== ФИКСИРОВАННЫЙ HUD ===== */
.hud{
  position:fixed;
  left:50%; bottom:20px; transform:translateX(-50%);
  display:flex; gap:12px; flex-wrap:wrap; justify-content:center;
  padding:10px 14px;
  background:rgba(15,23,42,.9);
  border:1px solid rgba(255,255,255,.15);
  border-radius:14px;
  box-shadow:0 6px 24px rgba(0,0,0,.45);
  z-index:2000;
}

/* ===== ПОДПИСИ ===== */
.caption{margin-top:24px;display:grid;gap:14px;align-items:center;grid-template-columns:1fr auto}
.quote{font-size:clamp(16px,2.2vw,22px);line-height:1.4;color:var(--text)}
.meta{color:var(--muted);font-size:13px}

/* ===== СЕТКА НИЖЕ ===== */
.grid{display:grid;grid-template-columns:1fr;gap:14px;margin-top:22px}
@media(min-width:860px){.grid{grid-template-columns:2fr 1fr}}

footer{padding:32px 0 48px}
.small{font-size:12px;color:var(--muted)}
.pill{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.12);color:var(--muted)}
.switch{display:flex;gap:8px;align-items:center}
.radio{display:inline-flex;gap:8px;align-items:center}
.radio input{accent-color:var(--accent)}

.form{display:grid;gap:10px}
input[type="text"],textarea{
  width:100%;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);
  background:#0f172a;color:var(--text)
}
input[type="text"]:focus-visible,textarea:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.thanks{display:none;color:var(--accent2);font-weight:700}
.tag{color:var(--accent);font-weight:700}
.note{font-size:12px;color:var(--muted)}

/* KBD */
kbd{
  display:inline-block;
  padding:2px 6px;
  border-radius:6px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.06);
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  font-size: 12px;
}


/* ===== АДАПТИВКА ===== */

/* Мобильные до 480px */
@media (max-width: 480px) {
  body {
    font-size: 14px;
  }

  .container {
    padding: 12px 0;
  }

  header .row {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }

  .brand {
    font-size: 14px;
  }

  .hud {
    flex-direction: column;
    gap: 8px;
    padding: 8px 10px;
  }

  .btn {
    flex: 1;
    justify-content: center;
  }

  .caption {
    grid-template-columns: 1fr;
    text-align: center;
  }

  .grid {
    grid-template-columns: 1fr;
  }
}

/* Планшеты до 860px */
@media (max-width: 860px) {
  .grid {
    grid-template-columns: 1fr; /* панели одна под другой */
  }

  .canvas-wrap {
    width: 100%;
    aspect-ratio: 16/9;
  }

  .hud {
    max-width: 95vw;
  }
}

/* Большие экраны от 1440px */
@media (min-width: 1440px) {
  .container {
    width: 1320px;
  }

  .canvas-wrap {
    width: 1280px;
  }

  .hud {
    padding: 14px 20px;
    gap: 16px;
  }

  .btn {
    font-size: 15px;
    padding: 12px 18px;
  }

  .quote {
    font-size: 22px;
  }
}
